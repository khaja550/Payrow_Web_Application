<div class="content-wrapper main-section-container">
    <app-allocation-menus></app-allocation-menus> 

    <section class="content">
        <div class="container-fluid p-0">
            <div class="row">
                <div class="col-12" *ngIf="!(isTrack || isForm)"> 
                    <div class="pull-left d-flex gap-16x mb-4"> 
                        <div class="search-holder"> 
                            <!-- <form action=""> -->
                                <div class="input-group">
                                    <input type="search" autocomplete="off" [(ngModel)]="searchText" placeholder="search" aria-describedby="button-addon5" class="form-control">
                                    <div class="input-group-append">
                                        <button id="button-addon5" type="submit" class="btn"><i class="fa fa-search"></i></button>
                                    </div>
                                </div>
                            <!-- </form> -->
                        </div>
                    </div>  
                    <div class="table-responsive">
                        <table class="table table_cust table_cust-with-buttons text-center">
                            <thead>
                                <tr>
                                    <th>S.NO</th>
                                    <th class="cur_Header">MID</th>
                                    <th>NAME</th>
                                    <th>EMAIL</th>
                                    <th>ADDRESS</th>
                                    <th class="cur_Header">JOINING DATE</th>
                                    <th class="cur_Header">SALES PERSON NAME</th>
                                    <th>MID ALLOCATION</th>
                                    <th>TRANSACTION RATE</th>
                                </tr>
                            </thead>
                            <tbody class="align-baseline">
                                <tr *ngFor="let merData of merchantList | filter:searchText">
                                    <td>{{merData.payRowId}}</td>
                                    <td>{{merData.bankMID}}</td>
                                    <td>{{merData.firstName}}</td>
                                    <td data-tooltip="top" role="tooltip" attr.aria-label="{{merData.emailId}}">
                                        <i class="bi-envelope-open"></i>
                                    </td>
                                    <td class="remarks_one" data-tooltip="top" role="tooltip"
                                        attr.aria-label="{{merData.addressDetails}} {{merData.city}}"><i
                                            class="bi-card-list"></i></td>
                                    <td>{{merData.updatedAt | date}}</td>
                                    <td data-tooltip="top" role="tooltip" attr.aria-label="{{merData.addressDetails}}">
                                        {{merData.firstName}}</td>
                                    <td><button class="btn btn-sm btn-sm-cust btn-outline-dark"
                                        (click)="userDetailsFunc(merData._id)">Process</button>
                                        
                                    </td>
                                    <!-- <td *ngIf="merData.bankMID !== (null || undefined)"><span>Done!</span></td> -->
                                    <td><button class="btn btn-sm btn-sm-cust btn-outline-dark"
                                        (click)="showForm(merData.payRowId)">Details</button>
                                        
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- TRACKER -->
                <div class="col-12" *ngIf="isTrack">
                    <!-- BACK BUTTON -->
                    <div *ngFor="let data of midPerData;let i =index;">
                        <div class="card card_cnt">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-2 col-sm">
                                        <button class="btn btn-sm back_btn" (click)="backToList()"><i
                                                class="fas fa-arrow-circle-left"></i>&nbsp;Back</button>
                                    </div>
                                    <div class="col-sm col-md-3">
                                        Name : {{data.firstName}}
                                    </div>
                                    <div class="col-sm col-md-3">MID : Pending</div>
                                    <div class="col-sm col-md-4">Email : {{data.emailId}}</div>
                                </div>
                            </div>
                        </div>


                        <div class="card row" style="box-shadow: 0px 1px 7px -5px grey; border: none;">
                            <div class="p-4 text-lg rounded-top"><span class="text-uppercase trackerTitle">MID
                                    Activation
                                    Process</span>
                                <div class="trackerTitle" style="float: right;position: relative;top: 4px;"><span
                                        class="text-medium">Status:</span> Request for MID</div>
                            </div>


                            <div class="card-body">
                                <div
                                    class="steps d-flex flex-wrap flex-sm-nowrap justify-content-between padding-top-2x padding-bottom-1x">
                                    <div class="step completed">
                                        <div class="step-icon-wrap">
                                            <div class="step-icon"><i class="pe-7s-user stepIcn"></i></div>
                                        </div>
                                        <h4 class="step-title">Customer request number</h4>
                                    </div>
                                    <div class="step completed">
                                        <div class="step-icon-wrap">
                                            <div class="step-icon"><i class="pe-7s-download stepIcn"></i></div>
                                        </div>
                                        <h4 class="step-title">Document Downloaded</h4>
                                    </div>

                                    <div class="step completed">
                                        <div class="step-icon-wrap">
                                            <div class="step-icon"><i class="pe-7s-cloud-upload stepIcn"></i></div>
                                        </div>
                                        <h4 class="step-title">Document submitted</h4>
                                    </div>
                                    <div class="step completed">
                                        <div class="step-icon-wrap">
                                            <div class="step-icon"><i class="pe-7s-copy-file stepIcn"></i></div>
                                        </div>
                                        <h4 class="step-title">Request for MID </h4>
                                    </div>
                                    <div class="step">
                                        <div class="step-icon-wrap">
                                            <div class="step-icon"><i class="pe-7s-check stepIcn"></i></div>
                                        </div>
                                        <h4 class="step-title">MID Allocation</h4>
                                    </div>
                                    <div class="step">
                                        <div class="step-icon-wrap">
                                            <div class="step-icon"><i class="pe-7s-play stepIcn"></i></div>
                                        </div>
                                        <h4 class="step-title">Awareness Video</h4>
                                    </div>
                                </div>
                                <hr>
                                <div class="form-check" style="margin-top: 25px;">
                                    <div>
                                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"
                                            checked>
                                        <label class="form-check-label pendingStatus" for="flexCheckChecked">
                                            Click here to Confirm MID
                                        </label>
                                        <input type="text" placeholder="Enter MID" [(ngModel)]="getID" [ngModelOptions]="{standalone: true}"
                                            style="margin-left: 13px">
                                    </div>
                                    <div>
                                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked"
                                            checked>
                                        <label class="form-check-label pendingStatus" for="flexCheckChecked">
                                            Click here to send Awareness Video
                                        </label>
                                    </div>
                                    <button class="btn btn-sm back_btn float-right"
                                        (click)="AllocateMID()">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> 

                <!-- FORM TABS START -->
                <!-- <div class="col-12" *ngIf="isTrack">
                    <div class="row backForm">
                        <button class="btn btn-sm btn-success edit_btn" (click)="showForm()">Back</button>
                    </div>
                    <div class="card" id="pills-tabContent">
                        <app-risk-transaction [mid]="mid"></app-risk-transaction>
                    </div>
                </div> -->
            </div>
        </div>
    </section>
</div>